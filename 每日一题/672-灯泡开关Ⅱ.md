### [672. 灯泡开关 Ⅱ](https://leetcode.cn/problems/bulb-switcher-ii/)

- 中等

房间中有 `n` 只已经打开的灯泡，编号从 `1` 到 `n` 。墙上挂着 **4 个开关** 。

这 4 个开关各自都具有不同的功能，其中：

- **开关 1 ：**反转当前所有灯的状态（即开变为关，关变为开）
- **开关 2 ：**反转编号为偶数的灯的状态（即 `2, 4, ...`）

- **开关 3 ：**反转编号为奇数的灯的状态（即 `1, 3, ...`）

- **开关 4 ：**反转编号为 `j = 3k + 1` 的灯的状态，其中 `k = 0, 1, 2, ...`（即 `1, 4, 7, 10, ...`）

你必须 **恰好** 按压开关 `presses` 次。每次按压，你都需要从 4 个开关中选出一个来执行按压操作。

给你两个整数 `n` 和 `presses` ，执行完所有按压之后，返回 **不同可能状态** 的数量。

**示例 1：**

```
输入：n = 1, presses = 1
输出：2
解释：状态可以是：
- 按压开关 1 ，[关]
- 按压开关 2 ，[开]
```

**示例 2：**

```
输入：n = 2, presses = 1
输出：3
解释：状态可以是：
- 按压开关 1 ，[关, 关]
- 按压开关 2 ，[开, 关]
- 按压开关 3 ，[关, 开]
```

**示例 3：**

```
输入：n = 3, presses = 1
输出：4
解释：状态可以是：
- 按压开关 1 ，[关, 关, 关]
- 按压开关 2 ，[关, 开, 关]
- 按压开关 3 ，[开, 关, 开]
- 按压开关 4 ，[关, 开, 开]
```

**提示：**

- `1 <= n <= 1000`
- `0 <= presses <= 1000`

**解法一：数学**

只需观察前 `3` 个灯泡的所有可能出现的状态即为所有灯泡的可能出现状态，最多可能状态就是 `8` 种

按压次数等 `0` 时，就一种状态

假设关灯的状态是 `0` 则当灯泡数 `n>=3` 时，按压次数依次增加时可能出现的结果如下：

```
		1		2		3		4	...
000		111		000		111		
000		010		101		010
000		101		010		101
000		100		011		100
				111		000
				110		001
				001		110
						011
```

可见按压次数大于等于 `3` 时，一定会出现 `8` 种状态，而按压一次，两次时，可以得到 `4` 种和 `7` 种状态

当 `n=1` 时，有两种结果

当 `n=2` 时，取决于按压次数

```python
class Solution:
    def flipLights(self, n: int, presses: int) -> int:
        # 只看前3个灯泡的状态就行，最多就是8种不同的状态
        # n >= 3, press = 1, 2, 3的时候分别能得出 4 种, 7种, 8种状态
        if presses == 0:
            return 1
        if n == 1:
            return 2
        elif n == 2:
            if presses == 1:
                return 3
            else:
                return 4
        else:
            if presses == 1:
                return 4
            elif presses == 2:
                return 7
            else:
                return 8
```

